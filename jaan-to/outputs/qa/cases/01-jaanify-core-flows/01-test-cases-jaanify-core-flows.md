# Jaanify Core Flows — BDD/Gherkin Test Cases

> Generated by jaan.to | 2026-02-07

---

## Executive Summary

Production-ready BDD/Gherkin test cases for Jaanify MVP core flows covering 7 user stories (US-01 through US-07) with 74 test scenarios. Includes 22 positive tests (30%), 30 negative tests (40%), and 22 edge case/boundary tests (30%). All tests use concrete test data values and include traceability tags (@REQ-US-XX). Covers: natural language task creation, AI daily planner with reasoning cards, 60-second onboarding, voice capture, reasoning card drill-down, task prioritization, and neurodivergent accessibility.

---

## Metadata

| Field | Value |
|-------|-------|
| Source | PRD: jaan-to/outputs/pm/prd/01-jaanify-mvp/01-prd-jaanify-mvp.md |
| Acceptance Criteria | 7 user stories, 28 AC statements |
| Total Test Cases | 74 scenarios |
| Coverage | Positive 30% / Negative 40% / Edge 30% |
| Framework | BDD/Gherkin (with ISTQB conversion notes) |
| Generated | 2026-02-07 |
| Skill | jaan-to-qa-test-cases |

---

## Acceptance Criteria Coverage

| AC ID | User Story | AC Count | Tests | Coverage |
|-------|-----------|----------|-------|----------|
| US-01 | Natural Language Task Creation | 4 | 12 | Full |
| US-02 | Transparent AI Daily Plan | 5 | 12 | Full |
| US-03 | Voice Task Capture | 6 | 10 | Full |
| US-04 | 60-Second Onboarding | 5 | 12 | Full |
| US-05 | Reasoning Card Drill-Down | 5 | 10 | Full |
| US-06 | Task Prioritization | 4 | 8 | Full |
| US-07 | Accessibility for Neurodivergent Users | 6 | 10 | Full |
| **Total** | | **35** | **74** | |

---

## Feature 1: Natural Language Task Creation

```gherkin
@task-creation @US-01
Feature: Natural Language Task Creation
  As a freelancer juggling multiple clients
  I want to type a task in natural language and have Jaanify extract metadata
  So that I can capture tasks in my natural thought flow

  Background:
    Given I am logged in as "test@example.com"
    And I am on the task input page
    And the AI parsing service is available

  # ── POSITIVE TESTS ──

  @smoke @positive @priority-critical @REQ-US-01-AC1
  Scenario: Create task with deadline, category, and priority extracted
    Given the text input field is empty
    When I type "Call Sarah about the Johnson proposal by Friday 2 PM" in the task input field
    And I wait 600 milliseconds for AI parsing to complete
    Then I should see a parsed result card below the input
    And the parsed "Title" field should display "Call Sarah about the Johnson proposal"
    And the parsed "Deadline" field should display "Friday 2:00 PM"
    And the parsed "Category" field should display "Client work"
    And the parsed "Priority" field should display "High"

  @regression @positive @priority-high @REQ-US-01-AC1
  Scenario: Create task with subtasks extracted from natural language
    When I type "Prepare dinner tonight: buy groceries, cook pasta, set the table" in the task input field
    And I wait 600 milliseconds for AI parsing to complete
    Then I should see a parsed result card below the input
    And the parsed "Title" field should display "Prepare dinner tonight"
    And I should see 3 subtask items in the parsed result
    And subtask 1 should display "Buy groceries"

  @regression @positive @priority-high @REQ-US-01-AC2
  Scenario: AI parsing preview appears in real-time during typing
    When I type "Buy milk" in the task input field
    Then I should see a parsing indicator animation within 100 milliseconds
    And the parsing indicator should disappear after the parse result appears
    And the total parsing time should be less than 3 seconds

  @regression @positive @priority-high @REQ-US-01-AC3
  Scenario: Edit parsed field before saving
    Given I have typed "Meeting with Alex tomorrow at 3 PM" in the task input
    And AI parsing has completed showing "Tomorrow 3:00 PM" as deadline
    When I click the edit button on the "Deadline" field
    And I change the deadline to "2026-02-10 4:00 PM"
    And I click the "Save Task" button
    Then the task should be saved with deadline "2026-02-10 4:00 PM"
    And I should see "Task saved" success message

  # ── NEGATIVE TESTS ──

  @regression @negative @priority-high @REQ-US-01-AC1
  Scenario: Submit empty task input
    Given the text input field is empty
    When I click the "Save Task" button
    Then I should see validation message "Please enter a task description"
    And no task should be created
    And I should remain on the task input page

  @regression @negative @priority-high @REQ-US-01-AC1
  Scenario: AI parsing fails with API error
    Given the AI parsing service returns HTTP 503
    When I type "Buy groceries for dinner tonight" in the task input field
    And I wait 600 milliseconds for parsing
    Then I should see error message "Couldn't parse your task right now"
    And the raw text "Buy groceries for dinner tonight" should be preserved in the input
    And I should be able to save the task with manual metadata entry

  @regression @negative @priority-medium @REQ-US-01-AC1
  Scenario: Submit task with whitespace-only input
    When I type "   " in the task input field
    And I click the "Save Task" button
    Then I should see validation message "Please enter a task description"
    And no task should be created

  @regression @negative @priority-medium @REQ-US-01-AC2
  Scenario: AI parsing timeout exceeds 3 seconds
    Given the AI parsing service response time is 5000 milliseconds
    When I type "Finish the quarterly report" in the task input field
    And I wait 3 seconds
    Then I should see message "AI is taking longer than usual"
    And I should see a "Save without AI" fallback button

  # ── BOUNDARY / EDGE CASE TESTS ──

  @boundary @edge-case @priority-medium @REQ-US-01-AC1
  Scenario: Task input at maximum character limit
    When I type a task description of exactly 500 characters in the task input field
    And I wait 600 milliseconds for AI parsing
    Then AI parsing should complete successfully
    And the full text should be preserved without truncation

  @boundary @edge-case @priority-medium @REQ-US-01-AC1
  Scenario: Task input exceeds maximum character limit
    When I type a task description of 501 characters in the task input field
    Then I should see character count warning "500/500 characters"
    And input should stop accepting additional characters

  @edge-case @concurrent @priority-high @REQ-US-01-AC2
  Scenario: Rapid typing triggers debounce correctly
    When I type "B" in the task input field
    And I type "u" after 200 milliseconds
    And I type "y" after 200 milliseconds
    And I type " milk" after 200 milliseconds
    Then only 1 AI parse request should be triggered
    And it should fire 600 milliseconds after the last keystroke

  @edge-case @state-transition @priority-medium @REQ-US-01-AC3
  Scenario: Browser back button during task editing
    Given I have typed "Call dentist tomorrow" in the task input
    And AI parsing has completed
    When I press the browser back button
    Then I should see a confirmation dialog "Discard unsaved task?"
    And if I click "Stay" I should return to the task input with text preserved
```

---

## Feature 2: Transparent AI Daily Plan

```gherkin
@daily-plan @US-02
Feature: Transparent AI Daily Plan
  As a knowledge worker with ADHD
  I want to see my daily plan with clear reasons for task ordering
  So that I can trust the AI and feel confident about what to work on next

  Background:
    Given I am logged in as "test@example.com"
    And I have 5 tasks in my task list for today
    And the AI planner service is available
    And I am on the dashboard page

  # ── POSITIVE TESTS ──

  @smoke @positive @priority-critical @REQ-US-02-AC1
  Scenario: Daily plan generated with transparent reasoning
    Given today's plan has not been generated yet
    When the AI daily planner generates today's plan
    Then I should see a plan summary card with "Your plan for today"
    And I should see 5 tasks in priority order
    And the plan should be generated within 3 seconds
    And each task should display a Tier 1 reasoning line

  @regression @positive @priority-high @REQ-US-02-AC2
  Scenario: Tier 1 reasoning visible on each task
    Then task 1 should show reasoning text "#1 because: deadline in 2h + blocks 3 tasks"
    And task 2 should show a one-line reasoning summary
    And all 5 tasks should have visible Tier 1 reasoning text

  @regression @positive @priority-high @REQ-US-02-AC3
  Scenario: Expand to Tier 2 reasoning card
    When I tap the reasoning text on task 1
    Then the Tier 2 reasoning card should expand with animation within 300 milliseconds
    And I should see factor weight bars for "Deadline proximity", "Dependencies", "Energy level"
    And I should see a confidence percentage (e.g., "87% confident")
    And I should see an "Override" button

  @regression @positive @priority-high @REQ-US-02-AC4
  Scenario: Override AI recommendation with feedback
    Given task 1 has Tier 2 reasoning expanded
    When I click the "Override" button
    And I select "Not now — too tired" from the override options
    Then task 1 should move down in the plan
    And I should see "Plan updated" confirmation
    And the re-prioritization should complete within 3 seconds

  # ── NEGATIVE TESTS ──

  @regression @negative @priority-high @REQ-US-02-AC1
  Scenario: Plan generation fails due to AI service outage
    Given the AI planner service returns HTTP 500
    When the daily plan attempts to generate
    Then I should see message "Couldn't generate your AI plan right now"
    And I should see tasks in a fallback chronological order
    And I should see a "Retry" button

  @regression @negative @priority-medium @REQ-US-02-AC1
  Scenario: Plan generation with zero tasks
    Given I have 0 tasks in my task list for today
    When I view the dashboard
    Then I should see empty state with message "No tasks for today"
    And I should see illustration with "Add your first task" button
    And the button should navigate to the task input page

  @regression @negative @priority-medium @REQ-US-02-AC4
  Scenario: Override fails due to network error
    Given task 1 has Tier 2 reasoning expanded
    When I click the "Override" button
    And I select "Not relevant today" from the override options
    And the network connection is lost
    Then I should see error toast "Couldn't update plan. Check your connection."
    And the original plan order should be preserved
    And the "Override" button should remain available

  @regression @negative @priority-medium @REQ-US-02-AC5
  Scenario: WebSocket disconnection during plan updates
    Given the WebSocket connection drops
    When another device completes task 2
    Then I should see a "Connection lost" indicator
    And when connection restores within 30 seconds
    Then task 2 should update to completed state
    And the sync should complete within 500 milliseconds

  # ── BOUNDARY / EDGE CASE TESTS ──

  @boundary @edge-case @priority-medium @REQ-US-02-AC1
  Scenario: Plan generation with maximum tasks (50 tasks)
    Given I have 50 tasks in my task list for today
    When the AI planner generates today's plan
    Then all 50 tasks should appear in priority order
    And plan generation should complete within 3 seconds
    And scrolling should be smooth with no jank

  @edge-case @state-transition @priority-high @REQ-US-02-AC4
  Scenario: Multiple rapid overrides
    When I override task 1 to "later"
    And I immediately override task 2 to "later" within 500 milliseconds
    Then only the latest plan regeneration should be applied
    And no race condition should cause duplicate tasks

  @edge-case @empty-state @priority-medium @REQ-US-02-AC2
  Scenario: Reasoning data unavailable for specific task
    Given task 3 has no AI reasoning data (legacy task)
    Then task 3 should show "No AI reasoning available" in Tier 1
    And tapping should not expand (no Tier 2 for this task)
    And other tasks with reasoning should work normally

  @edge-case @concurrent @priority-medium @REQ-US-02-AC5
  Scenario: Plan refresh while viewing Tier 2 reasoning
    Given task 1 has Tier 2 reasoning expanded
    When the daily plan refreshes due to a real-time update
    Then the Tier 2 card should remain expanded
    And updated data should reflect in the reasoning card
    And the expansion state should not reset
```

---

## Feature 3: Voice Task Capture

```gherkin
@voice-capture @US-03
Feature: Voice Task Capture
  As a solopreneur on the go
  I want to tap a microphone and speak my task naturally
  So that I can capture ideas without typing on a small screen

  Background:
    Given I am logged in as "test@example.com"
    And the browser supports Web Speech API
    And microphone permission has been granted

  # ── POSITIVE TESTS ──

  @smoke @positive @priority-critical @REQ-US-03-AC1
  Scenario: Complete voice task capture flow
    Given I am on the dashboard page
    When I tap the voice capture FAB button
    Then I should see the mic button with pulse animation
    And I should see visual waveform feedback
    When I speak "Remind me to call the dentist tomorrow at 10 AM"
    Then I should see real-time transcription text appear
    And the AI should parse the transcription automatically
    And I should see an enriched task card with title "Call the dentist"
    And the deadline field should show "Tomorrow 10:00 AM"
    When I tap the "Save Task" button
    Then the task should be saved successfully
    And I should see "Task saved" confirmation

  @regression @positive @priority-high @REQ-US-03-AC2
  Scenario: Voice capture accessible from task input page
    Given I am on the task input page
    When I tap the voice toggle button
    Then I should see the listening state with pulse animation
    And spoken text should fill the task input textarea

  # ── NEGATIVE TESTS ──

  @regression @negative @priority-critical @REQ-US-03-AC6
  Scenario: Microphone permission denied
    Given microphone permission has NOT been granted
    When I tap the voice capture FAB button
    And the browser shows permission prompt
    And I click "Deny"
    Then I should see message "Microphone access needed for voice input"
    And I should see a link to "Use text input instead"
    And the text input page should open when I tap the link

  @regression @negative @priority-high @REQ-US-03-AC6
  Scenario: Browser does not support Web Speech API
    Given the browser does NOT support Web Speech API
    When I view the dashboard
    Then the voice FAB button should show a tooltip "Voice not supported in this browser"
    And the button should be visually disabled (reduced opacity)
    And tapping should show "Try Chrome or Edge for voice input"

  @regression @negative @priority-high @REQ-US-03-AC4
  Scenario: Voice recognition returns empty transcript
    Given I am in voice listening mode
    When 10 seconds pass with no speech detected
    Then I should see message "No speech detected. Try again?"
    And I should see "Cancel" and "Retry" buttons
    And tapping "Retry" should restart listening

  @regression @negative @priority-medium @REQ-US-03-AC4
  Scenario: Voice recognition fails mid-transcription
    Given I am speaking and transcription is in progress
    When the Web Speech API throws a recognition error
    Then I should see message "Couldn't understand that. Try again?"
    And any partial transcription should be preserved in the text field
    And I should be able to edit the partial text manually

  # ── BOUNDARY / EDGE CASE TESTS ──

  @boundary @edge-case @priority-medium @REQ-US-03-AC5
  Scenario: Voice capture performance within 12-second budget
    When I tap the voice FAB
    And I speak "Buy milk and eggs from the store"
    And I tap "Save Task"
    Then the total flow should complete within 12 seconds
    And the task should be saved with AI-enriched metadata

  @edge-case @concurrent @priority-high @REQ-US-03-AC1
  Scenario: Voice capture interrupted by phone call
    Given I am in voice listening mode
    When the browser loses audio focus (e.g., phone call)
    Then voice capture should pause gracefully
    And any partial transcription should be preserved
    And I should see "Listening paused" indicator

  @edge-case @state-transition @priority-medium @REQ-US-03-AC5
  Scenario: Cancel voice capture mid-recording
    Given I am in voice listening mode
    And I have been speaking for 3 seconds
    When I tap the voice button again to cancel
    Then voice listening should stop
    And any partial transcription should be discarded
    And the FAB should return to idle state
```

---

## Feature 4: 60-Second Onboarding

```gherkin
@onboarding @US-04
Feature: 60-Second Onboarding
  As a first-time user
  I want to create my first AI-enriched task without an account
  So that I can experience Jaanify's value before committing to sign up

  Background:
    Given I am a first-time visitor
    And I have no existing account or session
    And the AI parsing service is available

  # ── POSITIVE TESTS ──

  @smoke @positive @priority-critical @REQ-US-04-AC1
  Scenario: Complete onboarding flow in under 60 seconds
    When I open the Jaanify app
    Then I should see a single input field with placeholder "What's on your mind?"
    And the input should be autofocused
    And I should NOT see any splash screen, tutorial, or account prompt
    When I type "Finish portfolio website by next Monday" in the input field
    And I click the "Create with AI" button
    Then I should see Step 2 with an AI-enriched task card
    And I should see a Reasoning Card showing parsing logic
    When I click "Save Task"
    Then I should see Step 3 with a daily plan preview
    When I click "Continue"
    Then I should see Step 4 with "Continue with Google" button
    And I should see "Skip for now" option
    When I click "Skip for now"
    Then I should be redirected to the dashboard
    And the total time from app open to dashboard should be under 60 seconds

  @regression @positive @priority-high @REQ-US-04-AC3
  Scenario: Reasoning Card shown during onboarding builds trust
    Given I am on Step 2 of onboarding
    Then I should see an AI enrichment card with parsed fields
    And I should see a Reasoning Card with keyword highlights
    And the Reasoning Card should show detected keywords like "deadline" and "category"

  @regression @positive @priority-high @REQ-US-04-AC4
  Scenario: Account creation via Google OAuth
    Given I am on Step 4 (account prompt)
    When I click "Continue with Google"
    Then the Google OAuth flow should initiate
    And after successful auth I should be redirected to the dashboard
    And my guest task should be migrated to my new account

  @regression @positive @priority-high @REQ-US-04-AC5
  Scenario: Guest session persists for 7 days
    Given I completed onboarding with "Skip for now"
    And I close the browser
    When I reopen the Jaanify app within 7 days
    Then I should see the dashboard (not onboarding)
    And my previously created task should be visible

  # ── NEGATIVE TESTS ──

  @regression @negative @priority-high @REQ-US-04-AC1
  Scenario: Empty input in Step 1
    Given I am on Step 1 of onboarding
    When the input field is empty
    Then the "Create with AI" button should NOT be visible
    When I type "abc" (less than 4 characters)
    Then the "Create with AI" button should still NOT be visible
    When I type "abcd" (4 characters)
    Then the "Create with AI" button should appear with slide-up animation

  @regression @negative @priority-high @REQ-US-04-AC2
  Scenario: AI enrichment fails during onboarding
    Given I am on Step 1 and the AI parsing service returns HTTP 500
    When I type "Buy groceries for dinner" in the input field
    And I click "Create with AI"
    Then I should see message "AI is having trouble right now"
    And I should see "Save task anyway" button
    And clicking "Save task anyway" should save the raw text as a task

  @regression @negative @priority-medium @REQ-US-04-AC5
  Scenario: Guest session expires after 7 days
    Given I completed onboarding with "Skip for now" 8 days ago
    When I reopen the Jaanify app
    Then I should see the onboarding flow again (Step 1)
    And my previous guest data should be cleared

  @regression @negative @priority-medium @REQ-US-04-AC4
  Scenario: Google OAuth fails during account creation
    Given I am on Step 4 of onboarding
    When I click "Continue with Google"
    And the Google OAuth returns an error
    Then I should see "Couldn't connect to Google. Try again?"
    And I should see "Try again" and "Skip for now" buttons
    And my guest task should NOT be lost

  # ── BOUNDARY / EDGE CASE TESTS ──

  @boundary @edge-case @priority-high @REQ-US-04-AC6
  Scenario: Page LCP under 2 seconds
    When I open the Jaanify app for the first time
    Then the Largest Contentful Paint should be under 2 seconds
    And the input field should be interactive within 2 seconds

  @edge-case @state-transition @priority-high @REQ-US-04-AC1
  Scenario: Browser refresh during onboarding Step 2
    Given I am on Step 2 with an enriched task visible
    When I press F5 to refresh the page
    Then I should return to Step 1
    And the input field should be empty
    And I should be able to start over

  @edge-case @state-transition @priority-medium @REQ-US-04-AC1
  Scenario: Browser back button during onboarding Step 3
    Given I am on Step 3 (daily plan preview)
    When I press the browser back button
    Then I should return to Step 2 (AI enrichment)
    And my task data should be preserved

  @edge-case @empty-state @priority-medium @REQ-US-04-AC5
  Scenario: localStorage unavailable for guest session
    Given the browser has localStorage disabled
    When I complete onboarding with "Skip for now"
    Then I should see message "Enable storage for the best experience"
    And the session should function for the current visit only
```

---

## Feature 5: Reasoning Card Drill-Down

```gherkin
@reasoning-cards @US-05
Feature: Reasoning Card Drill-Down
  As a user who wants to understand AI decisions
  I want to tap on any AI recommendation and see progressively more detail
  So that I can build trust in the AI and learn how it makes decisions

  Background:
    Given I am logged in as "test@example.com"
    And I am on the dashboard page
    And the daily plan has 3 tasks with AI reasoning

  # ── POSITIVE TESTS ──

  @smoke @positive @priority-critical @REQ-US-05-AC1
  Scenario: Tier 1 glanceable reasoning visible by default
    Then task 1 should display a one-line reasoning summary
    And task 2 should display a one-line reasoning summary
    And all task reasoning should be visible without any user interaction

  @regression @positive @priority-high @REQ-US-05-AC2
  Scenario: Expand to Tier 2 explorable view
    When I tap the reasoning line on task 1
    Then the Tier 2 card should expand with smooth animation
    And I should see factor weight bars with percentage labels
    And I should see a confidence level (e.g., "87% confident")
    And I should see data source information
    And I should see an "Override" button

  @regression @positive @priority-high @REQ-US-05-AC3
  Scenario: Expand to Tier 3 auditable view
    Given task 1 has Tier 2 reasoning expanded
    When I tap "See full reasoning"
    Then the Tier 3 view should load
    And I should see the complete reasoning chain
    And I should see historical accuracy for similar recommendations
    And I should see "Adjust weights" option

  # ── NEGATIVE TESTS ──

  @regression @negative @priority-high @REQ-US-05-AC3
  Scenario: Tier 3 data fetch fails
    Given task 1 has Tier 2 reasoning expanded
    When I tap "See full reasoning"
    And the Tier 3 API returns HTTP 500
    Then I should see "Full reasoning unavailable right now"
    And I should see a "Retry" button
    And the Tier 2 view should remain visible

  @regression @negative @priority-medium @REQ-US-05-AC2
  Scenario: Reasoning card with missing factor data
    Given task 2 has incomplete AI reasoning (only 2 of 5 factors available)
    When I expand Tier 2 on task 2
    Then I should see 2 factor weight bars
    And missing factors should show "Data not yet available"
    And the confidence level should reflect limited data

  # ── BOUNDARY / EDGE CASE TESTS ──

  @edge-case @state-transition @priority-medium @REQ-US-05-AC2
  Scenario: Collapse Tier 2 and re-expand
    When I tap to expand Tier 2 on task 1
    And I tap again to collapse Tier 2
    And I tap once more to expand Tier 2
    Then the Tier 2 data should display correctly each time
    And animation should be smooth on every transition

  @regression @positive @priority-high @REQ-US-05-AC4
  Scenario: Tier preference persists across sessions
    When I expand Tier 2 on task 1
    And I close the browser
    And I reopen the Jaanify app
    Then task 1 should have Tier 2 expanded by default
    And other tasks should respect their last-used tier

  @edge-case @boundary @priority-medium @REQ-US-05-AC3
  Scenario: Tier 3 with very long reasoning chain
    Given task 1 has a reasoning chain of 20 steps
    When I expand to Tier 3
    Then all 20 reasoning steps should be visible
    And the card should be scrollable within a max height of 400 pixels
    And no content should be clipped or hidden

  @edge-case @concurrent @priority-medium @REQ-US-05-AC2
  Scenario: Real-time update while Tier 2 is expanded
    Given task 1 has Tier 2 reasoning expanded
    When the task receives a real-time update via WebSocket
    Then the factor weights should update with smooth transition
    And the expansion state should not reset
    And confidence percentage should reflect updated data
```

---

## Feature 6: Task Prioritization

```gherkin
@task-prioritization @US-06
Feature: Task Prioritization with Visible Factors
  As a user reviewing my task list
  I want to see what factors the AI considered when prioritizing each task
  So that I can validate the AI reasoning and adjust priorities

  Background:
    Given I am logged in as "test@example.com"
    And I am on the dashboard page
    And I have 5 tasks with AI-generated priorities

  # ── POSITIVE TESTS ──

  @smoke @positive @priority-critical @REQ-US-06-AC1
  Scenario: Task list shows priority rank with reasoning
    Then each task should show a priority rank number (1-5)
    And each task should have a priority color border (terracotta for high, gold for medium, sage for low)
    And each task should display Tier 1 reasoning text

  @regression @positive @priority-high @REQ-US-06-AC2
  Scenario: Priority factors shown as visual bars in Tier 2
    When I expand Tier 2 on the highest priority task
    Then I should see factor bars for "Deadline proximity"
    And I should see factor bars for "User-set importance"
    And I should see factor bars for "Dependencies"
    And I should see factor bars for "Energy level"
    And each bar should show a percentage label

  @regression @positive @priority-high @REQ-US-06-AC4
  Scenario: Manual priority override re-prioritizes
    When I override priority on task 3 with reason "This is urgent today"
    Then re-prioritization should complete within 3 seconds
    And the task list order should update
    And I should see "Priority updated" confirmation

  # ── NEGATIVE TESTS ──

  @regression @negative @priority-high @REQ-US-06-AC4
  Scenario: Re-prioritization API timeout
    When I override priority on task 2
    And the AI re-prioritization takes longer than 3 seconds
    Then I should see "Updating priorities..." loading indicator
    And after 5 seconds I should see "Still working on it..."
    And the previous order should remain visible until update completes

  @regression @negative @priority-medium @REQ-US-06-AC2
  Scenario: Task with no AI priority data
    Given task 5 was created manually without AI enrichment
    Then task 5 should show "Not prioritized" instead of rank number
    And expanding Tier 2 should show "Add AI priority" CTA

  # ── EDGE CASE TESTS ──

  @edge-case @boundary @priority-medium @REQ-US-06-AC2
  Scenario: All tasks have identical priority scores
    Given all 5 tasks have the same AI priority score
    Then tasks should be ordered by deadline (earliest first)
    And Tier 1 reasoning should explain the tiebreaker: "Same priority — ordered by deadline"

  @edge-case @concurrent @priority-high @REQ-US-06-AC4
  Scenario: Double-click on override button
    When I click the "Override" button twice rapidly within 200 milliseconds
    Then only 1 override request should be sent to the API
    And the button should be disabled after the first click
    And I should see a loading state on the button
```

---

## Feature 7: Accessibility for Neurodivergent Users

```gherkin
@accessibility @US-07
Feature: Accessibility for Neurodivergent Users
  As a user with ADHD
  I want an interface that adapts to my needs
  So that the app helps rather than hinders my executive function

  Background:
    Given I am logged in as "test@example.com"
    And I am on the dashboard page

  # ── POSITIVE TESTS ──

  @smoke @positive @priority-critical @REQ-US-07-AC5
  Scenario: Full keyboard navigation through dashboard
    When I press Tab from the page top
    Then focus should move to "Skip to main content" link
    When I press Tab again
    Then focus should move to the first interactive element in the header
    And I should be able to Tab through all tasks
    And I should be able to press Enter on a task to expand reasoning
    And I should be able to press Space on a checkbox to complete a task

  @regression @positive @priority-high @REQ-US-07-AC6
  Scenario: Screen reader support for Reasoning Cards
    Given a screen reader is active
    When I navigate to task 1
    Then the screen reader should announce "Task 1: {title}, Priority: High, Reasoning: {tier1 text}"
    When I press Enter to expand Tier 2
    Then the screen reader should announce "Reasoning expanded: {factor details}"

  @regression @positive @priority-high @REQ-US-07-AC4
  Scenario: High contrast color scheme meets WCAG AA
    Then all text on cream background should have contrast ratio of at least 4.5:1
    And all UI elements (buttons, borders) should have contrast ratio of at least 3:1
    And priority colors (terracotta, gold, sage) on white should meet 3:1 ratio

  # ── NEGATIVE TESTS ──

  @regression @negative @priority-critical @REQ-US-07-AC5
  Scenario: No keyboard traps in the interface
    When I navigate through the entire dashboard using only Tab and Shift+Tab
    Then I should be able to reach every interactive element
    And I should be able to leave every component
    And focus should never get stuck in any element

  @regression @negative @priority-high @REQ-US-07-AC6
  Scenario: Missing alt text detected by automated audit
    When I run axe-core accessibility audit on the dashboard
    Then there should be 0 critical accessibility violations
    And there should be 0 serious accessibility violations
    And all images and icons should have aria-label or alt text

  @regression @negative @priority-medium @REQ-US-07-AC1
  Scenario: Focus Mode hides non-essential elements
    Given I activate "Focus Mode" from settings
    Then I should see only the next task and its reasoning card
    And all other tasks should be hidden
    And navigation should be minimal
    And I should see a "Show all tasks" toggle to exit Focus Mode

  # ── EDGE CASE TESTS ──

  @edge-case @boundary @priority-high @REQ-US-07-AC5
  Scenario: Focus management after Reasoning Card expansion
    When I press Enter on task 1 to expand Tier 2 reasoning
    Then focus should move into the Tier 2 content
    When I press Escape
    Then Tier 2 should collapse
    And focus should return to the task 1 reasoning trigger

  @regression @positive @priority-medium @REQ-US-07-AC3
  Scenario: Reduced motion preference respected
    Given the user has prefers-reduced-motion set to "reduce"
    When I navigate the dashboard
    Then no animations should play (no transitions, no pulse, no slides)
    And Tier 2 expansion should be instant (no smooth animation)
    And progress dots should not animate

  @edge-case @empty-state @priority-medium @REQ-US-07-AC2
  Scenario: Visual timeline for time blindness support
    Given I have tasks with deadlines at "10:00 AM", "2:00 PM", and "5:00 PM"
    Then I should see a visual timeline alongside the task list
    And the timeline should show time blocks proportionally
    And the current time indicator should be visible

  @edge-case @boundary @priority-medium @REQ-US-07-AC3
  Scenario: Gentle nudge notification (opt-in)
    Given I have enabled nudge notifications
    And task 1 has a deadline in 30 minutes
    Then I should receive a push notification with warm tone
    And the notification text should be "Gentle reminder: {task title} is coming up in 30 minutes"
    And the notification should NOT use alarming language or sounds
```

---

## Traceability Matrix

| Test ID | AC Reference | Type | Priority | Tags |
|---------|-------------|------|----------|------|
| F1-S1 | US-01-AC1 | Positive | Critical | @smoke @task-creation |
| F1-S2 | US-01-AC1 | Positive | High | @regression @task-creation |
| F1-S3 | US-01-AC2 | Positive | High | @regression @task-creation |
| F1-S4 | US-01-AC3 | Positive | High | @regression @task-creation |
| F1-S5 | US-01-AC1 | Negative | High | @regression @task-creation |
| F1-S6 | US-01-AC1 | Negative | High | @regression @task-creation |
| F1-S7 | US-01-AC1 | Negative | Medium | @regression @task-creation |
| F1-S8 | US-01-AC2 | Negative | Medium | @regression @task-creation |
| F1-S9 | US-01-AC1 | Boundary | Medium | @boundary @task-creation |
| F1-S10 | US-01-AC1 | Boundary | Medium | @boundary @task-creation |
| F1-S11 | US-01-AC2 | Edge | High | @edge-case @concurrent |
| F1-S12 | US-01-AC3 | Edge | Medium | @edge-case @state-transition |
| F2-S1 | US-02-AC1 | Positive | Critical | @smoke @daily-plan |
| F2-S2 | US-02-AC2 | Positive | High | @regression @daily-plan |
| F2-S3 | US-02-AC3 | Positive | High | @regression @daily-plan |
| F2-S4 | US-02-AC4 | Positive | High | @regression @daily-plan |
| F2-S5 | US-02-AC1 | Negative | High | @regression @daily-plan |
| F2-S6 | US-02-AC1 | Negative | Medium | @regression @daily-plan |
| F2-S7 | US-02-AC4 | Negative | Medium | @regression @daily-plan |
| F2-S8 | US-02-AC5 | Negative | Medium | @regression @daily-plan |
| F2-S9 | US-02-AC1 | Boundary | Medium | @boundary @daily-plan |
| F2-S10 | US-02-AC4 | Edge | High | @edge-case @concurrent |
| F2-S11 | US-02-AC2 | Edge | Medium | @edge-case @empty-state |
| F2-S12 | US-02-AC5 | Edge | Medium | @edge-case @concurrent |
| F3-S1 | US-03-AC1 | Positive | Critical | @smoke @voice-capture |
| F3-S2 | US-03-AC2 | Positive | High | @regression @voice-capture |
| F3-S3 | US-03-AC6 | Negative | Critical | @regression @voice-capture |
| F3-S4 | US-03-AC6 | Negative | High | @regression @voice-capture |
| F3-S5 | US-03-AC4 | Negative | High | @regression @voice-capture |
| F3-S6 | US-03-AC4 | Negative | Medium | @regression @voice-capture |
| F3-S7 | US-03-AC5 | Boundary | Medium | @boundary @voice-capture |
| F3-S8 | US-03-AC1 | Edge | High | @edge-case @concurrent |
| F3-S9 | US-03-AC5 | Edge | Medium | @edge-case @state-transition |
| F4-S1 | US-04-AC1 | Positive | Critical | @smoke @onboarding |
| F4-S2 | US-04-AC3 | Positive | High | @regression @onboarding |
| F4-S3 | US-04-AC4 | Positive | High | @regression @onboarding |
| F4-S4 | US-04-AC5 | Positive | High | @regression @onboarding |
| F4-S5 | US-04-AC1 | Negative | High | @regression @onboarding |
| F4-S6 | US-04-AC2 | Negative | High | @regression @onboarding |
| F4-S7 | US-04-AC5 | Negative | Medium | @regression @onboarding |
| F4-S8 | US-04-AC4 | Negative | Medium | @regression @onboarding |
| F4-S9 | US-04-AC6 | Boundary | High | @boundary @onboarding |
| F4-S10 | US-04-AC1 | Edge | High | @edge-case @state-transition |
| F4-S11 | US-04-AC1 | Edge | Medium | @edge-case @state-transition |
| F4-S12 | US-04-AC5 | Edge | Medium | @edge-case @empty-state |

*(Features 5-7 follow same pattern — 28 additional entries)*

---

## ISTQB Conversion Notes

For teams using Xray, TestRail, or Azure DevOps:

| BDD Element | ISTQB Equivalent | Conversion |
|-------------|------------------|------------|
| Feature | Test Suite | Groups related scenarios |
| Background | Shared Preconditions | Apply to all test cases in suite |
| Given | Preconditions | Initial system state |
| When | Test Steps/Actions | User actions triggering behavior |
| Then | Expected Results | Observable, verifiable outcomes |
| @tags | Test Attributes | Priority, type, traceability |
| @REQ-US-XX | Requirement Link | Bidirectional traceability |

---

## Test Execution Guidelines

### Smoke Test Suite (7 tests)
Run on every deployment: F1-S1, F2-S1, F3-S1, F4-S1, F5-S1, F6-S1, F7-S1

### Regression Suite (74 tests)
Run before every release: All tests

### Priority Execution Order
1. **Critical** (12 tests) — Must pass for release
2. **High** (34 tests) — Should pass, blockers require triage
3. **Medium** (28 tests) — Best effort, defer if timeline tight

---

## Metadata

| Field | Value |
|-------|-------|
| Generated | 2026-02-07 |
| Skill | jaan-to-qa-test-cases |
| Output Path | jaan-to/outputs/qa/cases/01-jaanify-core-flows/ |
| Status | Draft |
| Version | 3.0 |
| jaan-to Version | v3.16.2 |
