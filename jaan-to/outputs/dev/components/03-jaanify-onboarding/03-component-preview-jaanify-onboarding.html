<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jaanify Onboarding — Preview</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap" rel="stylesheet">
  <style>
    /* ═══════════════════════════════════════════
       JAANIFY DESIGN TOKENS (shared)
       ═══════════════════════════════════════════ */
    :root {
      --color-bg: #FAF8F5;
      --color-surface: #FFFFFF;
      --color-surface-raised: #F5F2EE;
      --color-primary: #6B8F71;
      --color-primary-light: #8FB596;
      --color-primary-subtle: #E8F0E9;
      --color-accent: #C4836A;
      --color-accent-light: #F0DDD5;
      --color-text: #3D4550;
      --color-text-secondary: #6B7280;
      --color-text-muted: #9CA3AF;
      --color-border: #E5E1DC;
      --color-success: #6B8F71;
      --color-warning: #D4A843;

      --font-family: 'DM Sans', system-ui, -apple-system, sans-serif;
      --font-size-xs: clamp(0.7rem, 0.65rem + 0.25vw, 0.75rem);
      --font-size-sm: clamp(0.8rem, 0.75rem + 0.25vw, 0.875rem);
      --font-size-base: clamp(0.9rem, 0.85rem + 0.25vw, 1rem);
      --font-size-lg: clamp(1.05rem, 1rem + 0.25vw, 1.125rem);
      --font-size-xl: clamp(1.25rem, 1.15rem + 0.5vw, 1.5rem);
      --font-size-2xl: clamp(1.5rem, 1.35rem + 0.75vw, 1.875rem);
      --font-size-3xl: clamp(1.75rem, 1.5rem + 1.25vw, 2.25rem);

      --space-xs: 0.25rem;
      --space-sm: 0.5rem;
      --space-md: 0.75rem;
      --space-lg: 1rem;
      --space-xl: 1.5rem;
      --space-2xl: 2rem;
      --space-3xl: 3rem;

      --radius-sm: 0.5rem;
      --radius-md: 0.75rem;
      --radius-lg: 1rem;
      --radius-xl: 1.25rem;

      --shadow-sm: 0 1px 2px rgba(61, 69, 80, 0.04);
      --shadow-md: 0 2px 8px rgba(61, 69, 80, 0.06);
      --shadow-lg: 0 4px 16px rgba(61, 69, 80, 0.08);
      --shadow-focus: 0 0 0 3px rgba(107, 143, 113, 0.3);

      --transition-fast: 150ms ease-out;
      --transition-normal: 200ms ease-out;
      --transition-slow: 300ms ease-out;
      --transition-entrance: 500ms cubic-bezier(0.16, 1, 0.3, 1);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --color-bg: #1A1D21;
        --color-surface: #242830;
        --color-surface-raised: #2D323A;
        --color-primary: #8FB596;
        --color-primary-light: #A8C9AE;
        --color-primary-subtle: #2A3B2D;
        --color-accent: #D4996A;
        --color-accent-light: #3D2E24;
        --color-text: #E8E6E3;
        --color-text-secondary: #9CA3AF;
        --color-text-muted: #6B7280;
        --color-border: #374151;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* ═══════════════════════════════════════════
       BASE
       ═══════════════════════════════════════════ */
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: var(--font-family);
      font-size: var(--font-size-base);
      line-height: 1.5;
      color: var(--color-text);
      background: var(--color-bg);
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    /* ═══════════════════════════════════════════
       ONBOARDING CONTAINER — Step-based flow
       ═══════════════════════════════════════════ */
    .onboarding {
      max-width: 480px;
      margin: 0 auto;
      padding: var(--space-lg);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* Step visibility */
    .step {
      display: none;
      flex-direction: column;
      flex: 1;
      opacity: 0;
      transform: translateY(12px);
      transition: opacity var(--transition-entrance), transform var(--transition-entrance);
    }

    .step--active {
      display: flex;
      opacity: 1;
      transform: translateY(0);
    }

    /* ═══════════════════════════════════════════
       STEP 1 — "What's on your mind?"
       Value Before Setup: no account, just create.
       ═══════════════════════════════════════════ */
    .step-1 {
      justify-content: center;
      padding-top: 20vh;
    }

    .welcome-mark {
      width: 48px;
      height: 48px;
      background: var(--color-primary);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: var(--space-xl);
    }

    .welcome-mark svg { width: 24px; height: 24px; color: white; }

    .welcome-title {
      font-size: var(--font-size-3xl);
      font-weight: 600;
      color: var(--color-text);
      line-height: 1.2;
      letter-spacing: -0.02em;
      margin-bottom: var(--space-sm);
    }

    .welcome-subtitle {
      font-size: var(--font-size-base);
      color: var(--color-text-muted);
      margin-bottom: var(--space-3xl);
    }

    .welcome-input {
      width: 100%;
      font-family: var(--font-family);
      font-size: var(--font-size-xl);
      font-weight: 400;
      color: var(--color-text);
      background: transparent;
      border: none;
      border-bottom: 2px solid var(--color-border);
      padding: var(--space-md) 0;
      outline: none;
      transition: border-color var(--transition-normal);
    }

    .welcome-input::placeholder {
      color: var(--color-text-muted);
      font-weight: 300;
    }

    .welcome-input:focus {
      border-color: var(--color-primary);
    }

    .welcome-hint {
      font-size: var(--font-size-xs);
      color: var(--color-text-muted);
      margin-top: var(--space-sm);
    }

    .welcome-cta {
      margin-top: var(--space-2xl);
      padding: var(--space-md) var(--space-xl);
      background: var(--color-primary);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      font-family: var(--font-family);
      font-size: var(--font-size-base);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-fast);
      align-self: flex-start;
      opacity: 0;
      transform: translateY(4px);
      transition: opacity var(--transition-slow), transform var(--transition-slow), background var(--transition-fast);
    }

    .welcome-cta--visible {
      opacity: 1;
      transform: translateY(0);
    }

    .welcome-cta:hover {
      background: var(--color-primary-light);
      transform: translateY(-1px);
      box-shadow: var(--shadow-md);
    }

    .welcome-cta:focus-visible { box-shadow: var(--shadow-focus); outline: none; }
    .welcome-cta:active { transform: translateY(0); }
    .welcome-cta:disabled { opacity: 0.4; cursor: not-allowed; }

    /* ═══════════════════════════════════════════
       STEP 2 — AI enriched task + Reasoning Card
       "See what Jaanify does with your task"
       ═══════════════════════════════════════════ */
    .step-2 {
      padding-top: 8vh;
    }

    .enriched-header {
      margin-bottom: var(--space-xl);
    }

    .enriched-label {
      font-size: var(--font-size-xs);
      color: var(--color-primary);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-weight: 600;
      margin-bottom: var(--space-xs);
    }

    .enriched-title {
      font-size: var(--font-size-2xl);
      font-weight: 600;
      line-height: 1.25;
    }

    /* Task enrichment card */
    .enriched-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      box-shadow: var(--shadow-md);
      margin-bottom: var(--space-lg);
    }

    .enriched-card__task {
      font-size: var(--font-size-lg);
      font-weight: 500;
      margin-bottom: var(--space-lg);
    }

    .enriched-card__fields {
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
    }

    .enriched-field {
      display: flex;
      align-items: center;
      gap: var(--space-md);
    }

    .enriched-field__dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .enriched-field__dot--deadline { background: var(--color-accent); }
    .enriched-field__dot--category { background: var(--color-primary); }
    .enriched-field__dot--priority { background: var(--color-warning); }

    .enriched-field__text {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
    }

    .enriched-field__value {
      font-weight: 500;
      color: var(--color-text);
    }

    /* Reasoning Card — the "aha" moment */
    .reasoning-card {
      background: var(--color-primary-subtle);
      border: 1px solid rgba(107, 143, 113, 0.2);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      margin-bottom: var(--space-2xl);
    }

    .reasoning-card__header {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      margin-bottom: var(--space-md);
    }

    .reasoning-card__icon {
      width: 20px;
      height: 20px;
      color: var(--color-primary);
    }

    .reasoning-card__title {
      font-size: var(--font-size-sm);
      font-weight: 600;
      color: var(--color-primary);
    }

    .reasoning-card__text {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      line-height: 1.6;
    }

    .reasoning-card__keyword {
      background: rgba(107, 143, 113, 0.15);
      color: var(--color-primary);
      padding: 1px 5px;
      border-radius: 3px;
      font-weight: 500;
    }

    .reasoning-card__callout {
      margin-top: var(--space-md);
      padding-top: var(--space-md);
      border-top: 1px solid rgba(107, 143, 113, 0.15);
      font-size: var(--font-size-xs);
      color: var(--color-primary);
      font-style: italic;
    }

    .step-2__actions {
      display: flex;
      gap: var(--space-md);
    }

    .step-2__actions .btn {
      flex: 1;
    }

    /* ═══════════════════════════════════════════
       STEP 3 — Daily Plan preview
       "Here's what your day could look like"
       ═══════════════════════════════════════════ */
    .step-3 {
      padding-top: 6vh;
    }

    .plan-header {
      margin-bottom: var(--space-xl);
    }

    .plan-label {
      font-size: var(--font-size-xs);
      color: var(--color-primary);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-weight: 600;
      margin-bottom: var(--space-xs);
    }

    .plan-title {
      font-size: var(--font-size-2xl);
      font-weight: 600;
      line-height: 1.25;
      margin-bottom: var(--space-sm);
    }

    .plan-subtitle {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
    }

    /* Mini task list for plan preview */
    .plan-tasks {
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
      margin-bottom: var(--space-xl);
    }

    .plan-task {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: var(--space-lg);
      display: flex;
      align-items: flex-start;
      gap: var(--space-md);
    }

    .plan-task__rank {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--color-primary-subtle);
      color: var(--color-primary);
      font-size: var(--font-size-xs);
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .plan-task__content { flex: 1; }

    .plan-task__name {
      font-size: var(--font-size-sm);
      font-weight: 500;
    }

    .plan-task__reason {
      font-size: var(--font-size-xs);
      color: var(--color-text-muted);
      margin-top: 2px;
    }

    .plan-task--highlight {
      border-color: var(--color-primary-light);
      background: var(--color-primary-subtle);
    }

    .plan-task--highlight .plan-task__rank {
      background: var(--color-primary);
      color: white;
    }

    /* Plan reasoning */
    .plan-reasoning {
      background: var(--color-primary-subtle);
      border-radius: var(--radius-md);
      padding: var(--space-lg);
      margin-bottom: var(--space-2xl);
      font-size: var(--font-size-xs);
      color: var(--color-text-secondary);
      line-height: 1.6;
    }

    .plan-reasoning__prefix {
      font-weight: 600;
      color: var(--color-primary);
    }

    .plan-cta {
      width: 100%;
      padding: var(--space-md);
      background: var(--color-primary);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      font-family: var(--font-family);
      font-size: var(--font-size-base);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .plan-cta:hover { background: var(--color-primary-light); }
    .plan-cta:focus-visible { box-shadow: var(--shadow-focus); outline: none; }

    /* ═══════════════════════════════════════════
       STEP 4 — Soft account prompt
       Non-blocking, deferrable, respectful
       ═══════════════════════════════════════════ */
    .step-4 {
      justify-content: center;
      align-items: center;
      text-align: center;
      padding-top: 15vh;
    }

    .account-icon {
      width: 64px;
      height: 64px;
      background: var(--color-primary-subtle);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto var(--space-xl);
    }

    .account-icon svg { width: 28px; height: 28px; color: var(--color-primary); }

    .account-title {
      font-size: var(--font-size-xl);
      font-weight: 600;
      margin-bottom: var(--space-sm);
    }

    .account-subtitle {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      max-width: 320px;
      margin: 0 auto var(--space-2xl);
      line-height: 1.6;
    }

    .account-google {
      width: 100%;
      max-width: 320px;
      padding: var(--space-md) var(--space-xl);
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      font-family: var(--font-family);
      font-size: var(--font-size-base);
      font-weight: 500;
      color: var(--color-text);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-sm);
      transition: all var(--transition-fast);
      margin: 0 auto var(--space-md);
    }

    .account-google:hover {
      border-color: var(--color-text-secondary);
      box-shadow: var(--shadow-md);
    }

    .account-google:focus-visible { box-shadow: var(--shadow-focus); outline: none; }

    .account-google svg { width: 18px; height: 18px; }

    .account-skip {
      background: none;
      border: none;
      color: var(--color-text-muted);
      font-family: var(--font-family);
      font-size: var(--font-size-sm);
      cursor: pointer;
      padding: var(--space-sm) var(--space-lg);
      transition: color var(--transition-fast);
    }

    .account-skip:hover { color: var(--color-text-secondary); }
    .account-skip:focus-visible { box-shadow: var(--shadow-focus); outline: none; border-radius: var(--radius-sm); }

    .account-note {
      font-size: var(--font-size-xs);
      color: var(--color-text-muted);
      margin-top: var(--space-2xl);
      max-width: 280px;
      margin-left: auto;
      margin-right: auto;
    }

    /* ═══════════════════════════════════════════
       PROGRESS DOTS
       ═══════════════════════════════════════════ */
    .progress {
      position: fixed;
      bottom: var(--space-xl);
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: var(--space-sm);
      z-index: 10;
    }

    .progress__dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--color-border);
      transition: all var(--transition-normal);
    }

    .progress__dot--active {
      background: var(--color-primary);
      width: 24px;
      border-radius: 4px;
    }

    .progress__dot--done {
      background: var(--color-primary-light);
    }

    /* ═══════════════════════════════════════════
       SHARED BUTTON STYLES
       ═══════════════════════════════════════════ */
    .btn {
      padding: var(--space-md) var(--space-lg);
      border-radius: var(--radius-md);
      font-family: var(--font-family);
      font-size: var(--font-size-base);
      font-weight: 600;
      cursor: pointer;
      transition: all var(--transition-fast);
      text-align: center;
      border: none;
    }

    .btn:focus-visible { box-shadow: var(--shadow-focus); outline: none; }

    .btn--primary { background: var(--color-primary); color: white; }
    .btn--primary:hover { background: var(--color-primary-light); }

    .btn--secondary {
      background: transparent;
      color: var(--color-text-secondary);
      border: 1px solid var(--color-border);
    }

    .btn--secondary:hover { border-color: var(--color-text-secondary); color: var(--color-text); }

    /* ═══════════════════════════════════════════
       RESPONSIVE
       ═══════════════════════════════════════════ */
    @media (min-width: 768px) {
      .onboarding { max-width: 520px; padding: var(--space-2xl); }
    }

    @media (min-width: 1024px) {
      .onboarding { max-width: 560px; }
      .step-1 { padding-top: 25vh; }
    }

    .sr-only {
      position: absolute; width: 1px; height: 1px; padding: 0;
      margin: -1px; overflow: hidden; clip: rect(0,0,0,0);
      white-space: nowrap; border-width: 0;
    }
  </style>
</head>
<body>
  <main class="onboarding" role="main" aria-label="Jaanify onboarding">

    <!-- ═══ STEP 1: What's on your mind? ═══ -->
    <section class="step step-1 step--active" id="step-1" aria-label="Create your first task">
      <div class="welcome-mark" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
          <path d="M12 3v18M3 12h18"/>
        </svg>
      </div>
      <h1 class="welcome-title">What's on<br>your mind?</h1>
      <p class="welcome-subtitle">Type your first task. No account needed.</p>

      <input
        type="text"
        class="welcome-input"
        id="first-task-input"
        placeholder="e.g. Call Sarah about the proposal by Friday 2 PM"
        aria-label="Describe your task"
        oninput="onFirstTaskInput(this)"
        autofocus
      >
      <p class="welcome-hint">Just type naturally — Jaanify's AI handles the rest</p>

      <button class="welcome-cta" id="create-cta" disabled onclick="goToStep(2)" aria-label="Create task with AI">
        Create with AI
      </button>
    </section>

    <!-- ═══ STEP 2: AI-enriched result ═══ -->
    <section class="step step-2" id="step-2" aria-label="Your AI-enriched task">
      <div class="enriched-header">
        <div class="enriched-label">AI Enriched</div>
        <h2 class="enriched-title">Here's what Jaanify sees</h2>
      </div>

      <div class="enriched-card">
        <div class="enriched-card__task" id="enriched-task-title">Call Sarah about the proposal</div>
        <div class="enriched-card__fields">
          <div class="enriched-field">
            <span class="enriched-field__dot enriched-field__dot--deadline"></span>
            <span class="enriched-field__text">Deadline: <span class="enriched-field__value">Friday at 2:00 PM</span></span>
          </div>
          <div class="enriched-field">
            <span class="enriched-field__dot enriched-field__dot--category"></span>
            <span class="enriched-field__text">Category: <span class="enriched-field__value">Client Work</span></span>
          </div>
          <div class="enriched-field">
            <span class="enriched-field__dot enriched-field__dot--priority"></span>
            <span class="enriched-field__text">Priority: <span class="enriched-field__value">High</span></span>
          </div>
        </div>
      </div>

      <!-- The "aha" moment — this is what makes Jaanify different -->
      <div class="reasoning-card" role="region" aria-label="AI reasoning explanation">
        <div class="reasoning-card__header">
          <svg class="reasoning-card__icon" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="10" cy="10" r="8"/>
            <path d="M10 7v3M10 13v.5"/>
          </svg>
          <span class="reasoning-card__title">Why Jaanify thinks this</span>
        </div>
        <p class="reasoning-card__text">
          Detected <span class="reasoning-card__keyword">Friday 2 PM</span> as a deadline.
          Category is <span class="reasoning-card__keyword">Client Work</span> because "proposal" suggests a business context.
          Priority is <span class="reasoning-card__keyword">High</span> — named contact + upcoming deadline.
        </p>
        <p class="reasoning-card__callout">
          Every recommendation shows its reasoning. You're always in control.
        </p>
      </div>

      <div class="step-2__actions">
        <button class="btn btn--secondary" onclick="goToStep(1)">Edit</button>
        <button class="btn btn--primary" onclick="goToStep(3)">Save Task</button>
      </div>
    </section>

    <!-- ═══ STEP 3: Daily Plan preview ═══ -->
    <section class="step step-3" id="step-3" aria-label="Your AI daily plan">
      <div class="plan-header">
        <div class="plan-label">Your Plan</div>
        <h2 class="plan-title">Here's your day</h2>
        <p class="plan-subtitle">Jaanify plans your tasks with reasons you can see.</p>
      </div>

      <div class="plan-tasks" role="list">
        <div class="plan-task plan-task--highlight" role="listitem">
          <span class="plan-task__rank">1</span>
          <div class="plan-task__content">
            <div class="plan-task__name" id="plan-task-name">Call Sarah about the proposal</div>
            <div class="plan-task__reason">Deadline in 2 days + named contact</div>
          </div>
        </div>
        <div class="plan-task" role="listitem">
          <span class="plan-task__rank">2</span>
          <div class="plan-task__content">
            <div class="plan-task__name">Add more tasks to see the full plan</div>
            <div class="plan-task__reason">The more Jaanify knows, the smarter it gets</div>
          </div>
        </div>
        <div class="plan-task" role="listitem" style="opacity: 0.5;">
          <span class="plan-task__rank">3</span>
          <div class="plan-task__content">
            <div class="plan-task__name" style="color: var(--color-text-muted);">Your next task goes here...</div>
            <div class="plan-task__reason">Jaanify learns your patterns over time</div>
          </div>
        </div>
      </div>

      <div class="plan-reasoning">
        <span class="plan-reasoning__prefix">Why this order?</span>
        Your proposal call has the nearest deadline and involves a named contact — both are strong priority signals. As you add more tasks, Jaanify considers energy levels, dependencies, and your habits.
      </div>

      <button class="plan-cta" onclick="goToStep(4)">Continue</button>
    </section>

    <!-- ═══ STEP 4: Soft account prompt ═══ -->
    <section class="step step-4" id="step-4" aria-label="Save your progress">
      <div class="account-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
          <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
      </div>
      <h2 class="account-title">Keep your tasks safe</h2>
      <p class="account-subtitle">
        Your task is saved locally for 7 days. Sign in to sync across devices and unlock AI daily plans.
      </p>

      <button class="account-google" aria-label="Continue with Google">
        <svg viewBox="0 0 24 24">
          <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z" fill="#4285F4"/>
          <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
          <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
          <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
        </svg>
        Continue with Google
      </button>

      <button class="account-skip" onclick="finishOnboarding()">
        Skip for now — I'll use it locally
      </button>

      <p class="account-note">
        Your tasks stay private. We never sell data or show ads.
      </p>
    </section>

    <!-- Progress dots -->
    <nav class="progress" aria-label="Onboarding progress">
      <div class="progress__dot progress__dot--active" id="dot-1" aria-label="Step 1 of 4, current"></div>
      <div class="progress__dot" id="dot-2" aria-label="Step 2 of 4"></div>
      <div class="progress__dot" id="dot-3" aria-label="Step 3 of 4"></div>
      <div class="progress__dot" id="dot-4" aria-label="Step 4 of 4"></div>
    </nav>

    <span class="sr-only" aria-live="polite" id="step-announce"></span>
  </main>

  <script>
    /* ═══════════════════════════════════════════
       ONBOARDING FLOW LOGIC
       ═══════════════════════════════════════════ */
    let currentStep = 1;
    const stepAnnounce = document.getElementById('step-announce');

    function onFirstTaskInput(el) {
      const cta = document.getElementById('create-cta');
      const hasText = el.value.trim().length > 3;
      cta.disabled = !hasText;
      cta.classList.toggle('welcome-cta--visible', hasText);
    }

    function goToStep(n) {
      // Hide current step
      const current = document.getElementById('step-' + currentStep);
      current.classList.remove('step--active');

      // If going from step 1 to 2, carry the task text
      if (currentStep === 1 && n === 2) {
        const text = document.getElementById('first-task-input').value.trim();
        const title = text.split(/\s+by\s+|\s+at\s+|\s+before\s+/i)[0].trim();
        document.getElementById('enriched-task-title').textContent = title || text;
        document.getElementById('plan-task-name').textContent = title || text;
      }

      // Update progress dots
      for (let i = 1; i <= 4; i++) {
        const dot = document.getElementById('dot-' + i);
        dot.classList.remove('progress__dot--active', 'progress__dot--done');
        if (i < n) dot.classList.add('progress__dot--done');
        else if (i === n) dot.classList.add('progress__dot--active');
      }

      // Show new step
      currentStep = n;
      const next = document.getElementById('step-' + n);
      next.classList.add('step--active');

      // Announce for screen readers
      const labels = {
        1: 'Step 1: Create your first task',
        2: 'Step 2: Your AI-enriched task',
        3: 'Step 3: Your AI daily plan',
        4: 'Step 4: Save your progress'
      };
      stepAnnounce.textContent = labels[n];

      // Focus management
      const firstFocusable = next.querySelector('input, button, [tabindex="0"]');
      if (firstFocusable) setTimeout(() => firstFocusable.focus(), 100);
    }

    function finishOnboarding() {
      stepAnnounce.textContent = 'Onboarding complete. Welcome to Jaanify!';
      // In real app: navigate to dashboard
      document.querySelector('.onboarding').innerHTML = `
        <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:80vh;text-align:center;">
          <div style="width:64px;height:64px;background:var(--color-primary-subtle);border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;margin-bottom:var(--space-xl);">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--color-primary)" stroke-width="2" stroke-linecap="round"><path d="M20 6L9 17l-5-5"/></svg>
          </div>
          <h2 style="font-size:var(--font-size-2xl);font-weight:600;margin-bottom:var(--space-sm);">You're all set!</h2>
          <p style="color:var(--color-text-secondary);font-size:var(--font-size-sm);">Welcome to Jaanify. Your task is waiting.</p>
        </div>
      `;
    }

    // Auto-focus the input on load
    window.addEventListener('load', () => {
      document.getElementById('first-task-input').focus();
    });

    // Enter key to proceed from step 1
    document.getElementById('first-task-input').addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !document.getElementById('create-cta').disabled) {
        goToStep(2);
      }
    });
  </script>
</body>
</html>
