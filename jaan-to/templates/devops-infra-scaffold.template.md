---
source_tech_md: "{{source_tech_md}}"
source_backend_scaffold: "{{source_backend_scaffold}}"
source_frontend_scaffold: "{{source_frontend_scaffold}}"
source_detect_dev: "{{source_detect_dev}}"
ci_platform: "{{ci_platform}}"
deploy_target: "{{deploy_target}}"
container_registry: "{{container_registry}}"
environments: "{{environments}}"
total_files: {{file_count}}
status: draft
created: {{date}}
last_updated: {{date}}
---

# {{title}} -- Infrastructure Scaffold

> Generated by jaan.to | {{date}}

---

## Executive Summary

{{executive_summary}}

---

## Overview

| Field | Value |
|-------|-------|
| **CI/CD Platform** | {{ci_platform}} |
| **Deployment Target** | {{deploy_target}} |
| **Container Registry** | {{container_registry}} |
| **Environments** | {{environments}} |
| **Migration Tool** | {{migration_tool}} |
| **Security Scanning** | {{security_scanning}} |
| **Total Files** | {{file_count}} |
| **Generated** | {{date}} |

## Tech Stack

{{import:$JAAN_CONTEXT_DIR/tech.md#current-stack}}

## Constraints

{{import:$JAAN_CONTEXT_DIR/tech.md#constraints}}

---

## CI Pipeline (ci.yml)

### Stages

| Stage | Tool | Trigger | Cache |
|-------|------|---------|-------|
{{ci_stages_rows}}

### Workflow Diagram

```
{{ci_workflow_diagram}}
```

### Estimated Pipeline Time

| Stage | Estimated | With Cache |
|-------|-----------|-----------|
{{ci_timing_rows}}

---

## CD Pipeline (cd.yml)

### Environments

| Environment | Branch | Auto-Deploy | Protection |
|-------------|--------|-------------|------------|
{{cd_environments_rows}}

### Deployment Flow

```
{{cd_deployment_flow}}
```

---

## Docker Configuration

### Backend Dockerfile

| Stage | Base Image | Purpose | Size |
|-------|-----------|---------|------|
{{docker_backend_stages_rows}}

### Frontend Dockerfile

| Stage | Base Image | Purpose | Size |
|-------|-----------|---------|------|
{{docker_frontend_stages_rows}}

### docker-compose Services

| Service | Image | Port | Healthcheck | Profile |
|---------|-------|------|-------------|---------|
{{docker_compose_services_rows}}

### Volume Strategy

| Type | Mount | Purpose |
|------|-------|---------|
{{volume_strategy_rows}}

### Network Topology

```
{{network_diagram}}
```

---

## Environment Variables

### All Variables

| Variable | Required | Default | Scope | Description |
|----------|----------|---------|-------|-------------|
{{env_var_rows}}

### Secret Management

| Secret | Storage | Injection Method |
|--------|---------|-----------------|
{{secret_management_rows}}

---

## Deployment Configuration

### Platform: {{deploy_target}}

{{deployment_config_summary}}

### Database Migrations

| Tool | CI Command | Rollback |
|------|-----------|----------|
{{migration_config_rows}}

---

## Security Measures

| Measure | Implementation | Stage |
|---------|---------------|-------|
{{security_measures_rows}}

---

## Generated Files

| # | Path | Type | Description |
|---|------|------|-------------|
{{scaffold_files_table}}

---

## Setup Instructions

### Quick Start (Local Development)

{{quick_start_instructions}}

### CI/CD Setup

{{cicd_setup_instructions}}

### Production Deployment

{{production_deploy_instructions}}

---

## Quality Checks Passed

{{quality_checklist}}

---

## Metadata

| Field | Value |
|-------|-------|
| Generated | {{date}} |
| Skill | jaan-to:devops-infra-scaffold |
| Output Path | {{env:JAAN_OUTPUTS_DIR}}/devops/infra-scaffold/ |
| Research | docs/research/74-dev-cicd-infra-scaffold-generation.md |
| Status | Draft |
