---
prd_source: "{{prd_source}}"
feature: "{{feature_title}}"
framework: "{{framework}}"
slicing: "{{slicing_strategy}}"
total_tasks: {{task_count}}
estimated_duration: "{{duration}}"
status: draft
created: {{date}}
last_updated: {{date}}
---

# {{title}} — Backend Task Breakdown

> Generated by jaan.to | {{date}}

---

## Overview

| Field | Value |
|-------|-------|
| **PRD Source** | {{prd_source}} |
| **Feature** | {{feature_title}} |
| **Framework** | {{framework}} |
| **Slicing Strategy** | {{slicing_strategy}} |
| **Total Tasks** | {{task_count}} |
| **Estimated Duration** | {{duration}} |
| **Critical Path** | {{critical_path_summary}} |

## Tech Stack

{{import:$JAAN_CONTEXT_DIR/tech.md#current-stack}}

**Constraints:**
{{import:$JAAN_CONTEXT_DIR/tech.md#constraints}}

---

## Entity Map

| Entity | Table | Tasks | Key Attributes | Notes |
|--------|-------|-------|----------------|-------|
{{entity_map_rows}}

---

## Tasks

{{task_cards}}

---

## Dependency Graph

### Critical Path (Sequential)

{{critical_path_detail}}

**Estimated Duration:** {{critical_path_duration}}

### Parallel Tracks

{{parallel_tracks}}

---

## Implicit Tasks (Auto-Detected)

{{implicit_tasks_section}}

---

## PRD Ambiguity Defaults Applied

| Area | PRD Ambiguity | Default Applied | Override? |
|------|---------------|-----------------|-----------|
{{ambiguity_defaults_rows}}

---

## Export: Jira CSV

```csv
Summary,Description,Issue Type,Priority,Story Points,Parent,Labels
{{jira_csv_rows}}
```

## Export: Linear Markdown

{{linear_markdown}}

## Export: JSON

```json
{
  "feature": "{{feature_title}}",
  "framework": "{{framework}}",
  "slicing": "{{slicing_strategy}}",
  "total_tasks": {{task_count}},
  "estimated_duration": "{{duration}}",
  "tasks": [
{{json_tasks}}
  ]
}
```

---

## Validation Summary

### Coverage
- ✓ All PRD requirements mapped to tasks
- ✓ CRUD operations covered per entity
- ✓ Error handling tasks per integration
- ✓ Auth/authz tasks for protected resources
- ✓ Observability tasks included

### Structure
- ✓ No XXL tasks (all decomposed)
- ✓ Clear dependency chains
- ✓ Testable acceptance criteria
- ✓ Single-assignee tasks

### Technical
- ✓ Migration up/down methods specified
- ✓ Index strategy for queried fields
- ✓ Idempotency for mutations
- ✓ Error scenarios per integration
- ✓ Queue config for async work

### Anti-patterns
{{anti_pattern_checks}}

---

## Definition of Ready

- [ ] PRD reviewed and requirements clear
- [ ] Tech stack confirmed in tech.md
- [ ] API contracts defined (or mock strategy agreed)
- [ ] Data model reviewed (migrations, indexes, constraints)
- [ ] Blocking dependencies resolved
- [ ] Acceptance criteria specific and testable

## Definition of Done

- [ ] All task acceptance criteria met
- [ ] Migrations tested (up + down)
- [ ] Unit tests passing (≥80% coverage)
- [ ] Feature tests cover happy path + key edge cases
- [ ] Authorization policies enforced
- [ ] Error handling implemented per integration
- [ ] Idempotency verified for mutations
- [ ] Code reviewed and approved
- [ ] No new security vulnerabilities (static analysis)
- [ ] Performance tested (API latency <200ms p95)

---

## Metadata

| Field | Value |
|-------|-------|
| Generated | {{date}} |
| Skill | jaan-to-dev-be-task-breakdown |
| Output Path | {{env:JAAN_OUTPUTS_DIR}}/dev/backend/ |
| Status | Draft |
| Version | 3.0 |
