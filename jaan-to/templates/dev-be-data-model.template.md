# {{title}}

> Generated by jaan.to | {{date}}

---

## Executive Summary

{{executive_summary}}

---

## Entity-Relationship Diagram

```mermaid
erDiagram
{{er_diagram}}
```

---

## Table Definitions

{{table_definitions}}

<!-- Per entity, generate:

### {EntityName} (`{table_name}`)

| Column | Type | Nullable | Default | Constraints |
|--------|------|----------|---------|-------------|
| id | {pk_type} | NO | — | PRIMARY KEY |
| {column} | {type} | {YES/NO} | {default} | {constraints} |
| created_at | {timestamp_type} | NO | now() | — |
| updated_at | {timestamp_type} | NO | now() | — |

**Indexes:**

| Name | Columns | Type | Rationale |
|------|---------|------|-----------|
| {idx_name} | ({columns}) | {type} | {ESR rationale or purpose} |

**Foreign Keys:**

| Column | References | ON DELETE | ON UPDATE |
|--------|-----------|-----------|-----------|
| {fk_column} | {ref_table}.{ref_column} | {CASCADE/RESTRICT/SET NULL} | CASCADE |

**Migration Notes:**

- {CREATE TABLE for greenfield / zero-downtime steps for brownfield}

-->

---

## Cross-Cutting Concerns

### Timestamps

{{timestamps_pattern}}

### Soft Deletes

{{soft_delete_pattern}}

### Multi-Tenancy

{{tenancy_pattern}}

### Enum Strategy

{{enum_strategy}}

### Primary Key Strategy

{{pk_strategy}}

### Naming Conventions

{{naming_conventions}}

---

## Index Strategy

{{index_strategy}}

<!-- Include:
- Composite index ordering rationale (ESR rule)
- Engine-specific index types (GIN, BRIN, partial, covering)
- Multi-tenant index patterns (tenant_id first)
- Soft delete partial indexes
-->

---

## Migration Playbook

{{migration_playbook}}

<!-- Per-table migration classification:

| Table | Operation | Safety | Method | Notes |
|-------|-----------|--------|--------|-------|
| {table} | {operation} | {Safe/Caution/Breaking} | {Instant/NOT VALID+VALIDATE/Expand-Contract} | {details} |

-->

---

## Retention & Compliance

{{retention_compliance}}

<!-- If applicable:
- GDPR deletion strategy (hard delete + anonymized audit / crypto-shredding / separate PII tables)
- TTL cleanup approach (pg_cron, partition-based, MongoDB TTL indexes, DynamoDB TTL)
- Legal hold patterns
- Archival strategy
-->

---

## Quality Scorecard

| Dimension | Weight | Score | Notes |
|-----------|--------|-------|-------|
| Referential Integrity | 25% | {{ri_score}} | {{ri_notes}} |
| Constraint Completeness | 25% | {{cc_score}} | {{cc_notes}} |
| Index Coverage | 20% | {{ic_score}} | {{ic_notes}} |
| Convention Consistency | 15% | {{nc_score}} | {{nc_notes}} |
| Operational Readiness | 15% | {{or_score}} | {{or_notes}} |
| **Overall** | **100%** | **{{overall_score}}** | |

---

## Technical Context

**Stack**: {{import:$JAAN_CONTEXT_DIR/tech.md#current-stack}}

**Constraints**: {{import:$JAAN_CONTEXT_DIR/tech.md#constraints}}

---

## Metadata

| Field | Value |
|-------|-------|
| Generated | {{date}} |
| Output Path | {{env:JAAN_OUTPUTS_DIR}}/dev/backend/ |
| Skill | jaan-to:dev-be-data-model |
| Status | Draft |
| Version | 3.0 |
