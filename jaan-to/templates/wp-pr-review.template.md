# WordPress PR Review: {{title}}

> Generated by jaan.to wp-pr-review | {{date}}

---

## Executive Summary

{{executive_summary}}

**Verdict: {{verdict}}**

---

## PR Metadata

| Field | Value |
|-------|-------|
| Repository | {{repository}} |
| PR | #{{pr_number}} — {{pr_title}} |
| Files Reviewed | {{files_count}} PHP files |
| Changes | +{{additions}} / -{{deletions}} lines |
| Review Date | {{date}} |
| Plugin | {{plugin_name}} v{{plugin_version}} |
| Min WordPress | {{min_wp}} |
| Min PHP | {{min_php}} |
| Text Domain | {{text_domain}} |
| PHPCS Standard | {{phpcs_standard}} |

---

## Findings

### CRITICAL ({{critical_count}})

{{#each critical_findings}}
#### {{severity_icon}} {{title}}

- **File**: `{{file}}` (Lines {{start_line}}–{{end_line}})
- **Category**: {{category}}
- **Confidence**: {{confidence}}

**Problem**: {{description}}

**Vulnerable code**:
```php
{{vulnerable_code}}
```

**Fix**:
```php
{{fixed_code}}
```

---
{{/each}}

### WARNING ({{warning_count}})

{{#each warning_findings}}
#### {{severity_icon}} {{title}}

- **File**: `{{file}}` (Lines {{start_line}}–{{end_line}})
- **Category**: {{category}}
- **Confidence**: {{confidence}}

**Problem**: {{description}}

{{#if fixed_code}}
**Suggestion**:
```php
{{fixed_code}}
```
{{/if}}

---
{{/each}}

### INFO ({{info_count}})

{{#each info_findings}}
#### {{severity_icon}} {{title}}

- **File**: `{{file}}` (Lines {{start_line}}–{{end_line}})
- **Category**: {{category}}

{{description}}

---
{{/each}}

## Review Categories

### Security Assessment

{{security_assessment}}

### Performance Assessment

{{performance_assessment}}

### Standards Compliance

{{standards_compliance}}

### Backward Compatibility

{{backward_compatibility}}

### Add-on Ecosystem Impact

{{addon_impact}}

---

## Checklist Summary

| Category | Status | Issues |
|----------|--------|--------|
| Security — Input sanitization | {{sanitization_status}} | {{sanitization_issues}} |
| Security — Output escaping | {{escaping_status}} | {{escaping_issues}} |
| Security — Nonce verification | {{nonce_status}} | {{nonce_issues}} |
| Security — Capability checks | {{capability_status}} | {{capability_issues}} |
| Security — SQL injection prevention | {{sql_status}} | {{sql_issues}} |
| Security — REST API protection | {{rest_status}} | {{rest_issues}} |
| Performance — Query optimization | {{query_perf_status}} | {{query_perf_issues}} |
| Performance — Asset loading | {{asset_status}} | {{asset_issues}} |
| Standards — WPCS compliance | {{wpcs_status}} | {{wpcs_issues}} |
| Standards — i18n completeness | {{i18n_status}} | {{i18n_issues}} |
| Compatibility — PHP version | {{php_compat_status}} | {{php_compat_issues}} |
| Compatibility — WP version | {{wp_compat_status}} | {{wp_compat_issues}} |
| Ecosystem — Hook stability | {{hook_status}} | {{hook_issues}} |

---

## Methodology

This review was conducted using a 5-phase workflow:
1. **Context gathering** — Plugin metadata, PHPCS config, project conventions
2. **Diff analysis** — {{files_count}} files, +{{additions}} / -{{deletions}} lines
3. **Critical security scan** — Deterministic grep for dangerous patterns
4. **Standards and compatibility review** — WPCS, backward compat, performance, add-on impact
5. **Output formatting** — Severity-grouped, confidence-filtered (threshold >= 80)

### Confidence Scoring

Findings are scored 0-100 for confidence. Only findings with confidence >= 80 are included.
Total findings analyzed: {{total_raw_findings}} | Included: {{included_findings}} | Filtered: {{filtered_findings}}

---

## Metadata

| Field | Value |
|-------|-------|
| Generated | {{date}} |
| Skill | wp-pr-review |
| Research | $JAAN_OUTPUTS_DIR/research/67-wp-pr-review.md |
