# Jaanify API â€” Railway deployment configuration
# Docs: https://docs.railway.app/reference/config-as-code

[build]
# Use Dockerfile for consistent builds
dockerfilePath = "docker/Dockerfile.api"
# Build from repo root (monorepo)
watchPatterns = ["apps/api/**", "packages/**", "pnpm-lock.yaml"]

[deploy]
# Health check
healthcheckPath = "/v1/health"
healthcheckTimeout = 30
# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3
# Number of replicas (scale up as needed)
numReplicas = 1
